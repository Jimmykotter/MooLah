// elements for earnings
const earningsInput = document.querySelector("#earnings");
const earningsButton = document.querySelector("#earnings-button");
const earningsOutput = document.querySelector("#earnings-output");
let incomeTotal = 0;

// elements for expenses
const expensesInput = document.querySelector("#expenses");
const expensesButton = document.querySelector("#expenses-button");
const expensesOutput = document.querySelector("#expenses-output");
let expenseTotal = 0;

// element for displaying the remaining balance
const remainingBalanceElement = document.querySelector("#remaining-balance");

// modal elements
const modal = document.querySelector("#modal");
const openModalButton = document.querySelector("#open-modal-button");
const closeModalButton = document.querySelector("#close-modal-button");
const modalEarnings = document.querySelector("#modal-earnings");
const modalExpenses = document.querySelector("#modal-expenses");
const modalBalance = document.querySelector("#modal-balance");

// Event listener for earnings submission
earningsButton.addEventListener("click", function (event) {
    event.preventDefault();
    const earningsValue = parseFloat(earningsInput.value);

    if (!isNaN(earningsValue) && earningsValue >= 0) {
        incomeTotal += earningsValue;
        earningsOutput.textContent = `Total Earnings: $${incomeTotal.toFixed(2)}`;
        earningsInput.value = "";
    } else {
        alert("Please enter a valid positive number for earnings.");
    }

    updateRemainingBalance();
});

// Event listener for expenses submission
expensesButton.addEventListener("click", function (event) {
    event.preventDefault();
    const expensesValue = parseFloat(expensesInput.value);

    if (!isNaN(expensesValue) && expensesValue >= 0) {
        expenseTotal += expensesValue;
        expensesOutput.textContent = `Total Expenses: $${expenseTotal.toFixed(2)}`;
        expensesInput.value = "";
    } else {
        alert("Please enter a valid positive number for expenses.");
    }

    updateRemainingBalance();
});

// Function to update the remaining balance
function updateRemainingBalance() {
    const remainingBalance = incomeTotal - expenseTotal;
    remainingBalanceElement.textContent = `Remaining Balance: $${remainingBalance.toFixed(2)}`;
}

// Open the modal and display the summary
openModalButton.addEventListener("click", function () {
    modalEarnings.textContent = `Total Earnings: $${incomeTotal.toFixed(2)}`;
    modalExpenses.textContent = `Total Expenses: $${expenseTotal.toFixed(2)}`;
    modalBalance.textContent = `Remaining Balance: $${(incomeTotal - expenseTotal).toFixed(2)}`;
    modal.style.display = "block";
});

//Close the modal when the close button is clicked
closeModalButton.addEventListener("click", function () {
    modal.style.display = "none";
});

// Close the modal when clicking outside the modal content
window.addEventListener("click", function (event) {
    if (event.target === modal) {
        modal.style.display = "none";
    }
});

